# UI 선점잠금을 통한 결제 버튼 제어

## 프로젝트 개요

이 프로젝트는 사용자가 여러 브라우저 탭에서 결제 페이지를 열고 결제 버튼을 누르는 상황을 방지하기 위한 UI 선점잠금 메커니즘을 구현합니다. 이를 통해 결제 프로세스가 여러 번 발생하는 문제를 해결하고, 한 컨텍스트에서 결제 버튼을 잠금으로써 다른 컨텍스트에서는 접근할 수 없도록 합니다.

## 기술 스택

- **Next.js**: React 기반의 서버 사이드 렌더링(SSR) 프레임워크로, UI를 구성하고 서버와 클라이언트 간의 상호작용을 관리합니다.
- **Redis**: 인메모리 데이터 구조 저장소로, 잠금 상태를 관리하고 여러 클라이언트 간의 실시간 데이터 동기화를 지원합니다.
- **Server-Sent Events (SSE)**: 서버에서 클라이언트로 실시간 업데이트를 푸시하기 위한 기술로, 클라이언트가 잠금 상태를 실시간으로 수신할 수 있도록 합니다.

## 주요 기능

1. **결제 버튼 잠금**: 사용자가 결제 버튼을 클릭하면 Redis를 통해 잠금 상태가 설정되어 다른 탭에서는 버튼을 사용할 수 없게 됩니다.
2. **실시간 상태 업데이트**: SSE를 사용하여 잠금 상태의 변경 사항을 모든 클라이언트에 실시간으로 전파합니다.
3. **잠금 해제**: 결제 프로세스가 완료되거나 취소되면 잠금이 해제되어 다른 탭에서 결제 버튼을 사용할 수 있게 됩니다.

## 설치 및 실행

1. **레포지토리 클론**
   ```bash
   git clone https://github.com/yourusername/your-repo.git
   cd your-repo
   ```

2. **의존성 설치**
   ```bash
   npm install
   ```

3. **Redis 서버 실행**
   - 로컬 환경에서 Redis 서버를 실행합니다. (Docker를 사용할 수도 있습니다.)

4. **개발 서버 실행**
   ```bash
   pnpm run dev
   ```

5. **브라우저에서 확인**
   - `http://localhost:3000`에서 애플리케이션을 확인할 수 있습니다.

## 사용 예시

- 사용자가 결제 페이지를 여러 탭에서 열고 결제 버튼을 클릭하면, 첫 번째로 클릭한 탭에서만 결제가 진행됩니다.
- 다른 탭에서는 결제 버튼이 비활성화되며, 결제가 완료되거나 취소되면 다시 활성화됩니다.

## 기여

기여를 원하신다면, 이슈를 생성하거나 풀 리퀘스트를 제출해 주세요.

## 라이선스

이 프로젝트는 MIT 라이선스를 따릅니다. 자세한 내용은 `LICENSE` 파일을 참조하세요.